error: lint `clippy::safe_fn` has been renamed to `clippy::safe_code`
   |
   = help: use the new name `clippy::safe_code`
   = note: requested on the command line with `-D clippy::safe_fn`
   = note: `-D renamed-and-removed-lints` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(renamed_and_removed_lints)]`

error: lint `clippy::safe_fn` has been renamed to `clippy::safe_code`
   |
   = help: use the new name `clippy::safe_code`
   = note: requested on the command line with `-D clippy::safe_fn`
   = note: duplicate diagnostic emitted due to `-Z deduplicate-diagnostics=no`

error: item must be `pub`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:7:1
   |
LL | struct DataPack {
   | ^ help: make this item public: `pub`
   |
   = note: requested on the command line with `-D clippy::missing-pub`

error: item must be `pub`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:13:1
   |
LL | fn overlapping_eq_regions() {
   | ^ help: make this item public: `pub`

error: function must be `unsafe`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:13:1
   |
LL | fn overlapping_eq_regions() {
   | ^
   |
help: make this function unsafe: `unsafe`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:13:1
   |
LL | fn overlapping_eq_regions() {
   | ^
   = note: `-D clippy::safe-code` implied by `-D clippy::safe-fn`
   = help: to override `-D clippy::safe-fn` add `#[allow(clippy::safe_code)]`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:14:9
   |
LL |     let x = 9;
   |         ^ help: make this variable mutable: `mut`
   |
   = note: requested on the command line with `-D clippy::missing-mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:20:13
   |
LL |         let t = 7;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:21:13
   |
LL |         let _overlap_start = t * 2;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:22:13
   |
LL |         let _overlap_end = 2 * t;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:23:13
   |
LL |         let _u = 9;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:25:13
   |
LL |         let t = 7;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:26:13
   |
LL |         let _overlap_start = t * 2;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:27:13
   |
LL |         let _overlap_end = 2 * t;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:29:13
   |
LL |         let _overlap_start = t * 2;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:30:13
   |
LL |         let _overlap_end = 2 * t;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:31:13
   |
LL |         let _u = 9;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:38:13
   |
LL |         let r = 7;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:39:13
   |
LL |         let _overlap_start = r;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:40:13
   |
LL |         let _overlap_middle = r * r;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:41:13
   |
LL |         let _overlap_end = r * r * r;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:42:13
   |
LL |         let z = "end";
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:44:13
   |
LL |         let r = 7;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:45:13
   |
LL |         let _overlap_start = r;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:46:13
   |
LL |         let _overlap_middle = r * r;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:47:13
   |
LL |         let _overlap_middle = r * r;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:48:13
   |
LL |         let _overlap_end = r * r * r;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:49:13
   |
LL |         let z = "end";
   |             ^ help: make this variable mutable: `mut`

error: item must be `pub`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:53:1
   |
LL | fn complexer_example() {
   | ^ help: make this item public: `pub`

error: function must be `unsafe`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:53:1
   |
LL | fn complexer_example() {
   | ^
   |
help: make this function unsafe: `unsafe`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:53:1
   |
LL | fn complexer_example() {
   | ^

error: item must be `pub`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:54:5
   |
LL |     fn gen_id(x: u32, y: u32) -> u32 {
   |     ^ help: make this item public: `pub`

error: function must be `unsafe`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:54:5
   |
LL |     fn gen_id(x: u32, y: u32) -> u32 {
   |     ^
   |
help: make this function unsafe: `unsafe`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:54:5
   |
LL |     fn gen_id(x: u32, y: u32) -> u32 {
   |     ^

error: parameter must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:54:15
   |
LL |     fn gen_id(x: u32, y: u32) -> u32 {
   |               ^ help: make this parameter mutable: `mut`

error: parameter must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:54:23
   |
LL |     fn gen_id(x: u32, y: u32) -> u32 {
   |                       ^ help: make this parameter mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:55:13
   |
LL |         let x = x & 0x0000_ffff;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:56:13
   |
LL |         let y = (y & 0xffff_0000) << 16;
   |             ^ help: make this variable mutable: `mut`

error: item must be `pub`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:60:5
   |
LL |     fn process_data(data: DataPack) {
   |     ^ help: make this item public: `pub`

error: function must be `unsafe`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:60:5
   |
LL |     fn process_data(data: DataPack) {
   |     ^
   |
help: make this function unsafe: `unsafe`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:60:5
   |
LL |     fn process_data(data: DataPack) {
   |     ^

error: parameter must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:60:21
   |
LL |     fn process_data(data: DataPack) {
   |                     ^ help: make this parameter mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:64:9
   |
LL |     let x = 8;
   |         ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:65:9
   |
LL |     let y = 9;
   |         ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:69:13
   |
LL |         let a = 0xcafe;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:70:13
   |
LL |         let b = 0xffff00ff;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:71:13
   |
LL |         let e_id = gen_id(a, b);
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:75:13
   |
LL |         let pack = DataPack {
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:82:13
   |
LL |         let a = 0xcafe;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:83:13
   |
LL |         let b = 0xffff00ff;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:84:13
   |
LL |         let e_id = gen_id(a, b);
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:88:13
   |
LL |         let pack = DataPack {
   |             ^ help: make this variable mutable: `mut`

error: item must be `pub`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:98:1
   |
LL | fn added_note_for_expression_use() -> u32 {
   | ^ help: make this item public: `pub`

error: function must be `unsafe`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:98:1
   |
LL | fn added_note_for_expression_use() -> u32 {
   | ^
   |
help: make this function unsafe: `unsafe`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:98:1
   |
LL | fn added_note_for_expression_use() -> u32 {
   | ^

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:99:9
   |
LL |     let x = 9;
   |         ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:106:13
   |
LL |         let _splitter = 6;
   |             ^ help: make this variable mutable: `mut`

error: variable must be `mut`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:120:13
   |
LL |         let _splitter = 6;
   |             ^ help: make this variable mutable: `mut`

error: item must be `pub`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:130:1
   |
LL | fn main() {}
   | ^ help: make this item public: `pub`

error: function must be `unsafe`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:130:1
   |
LL | fn main() {}
   | ^
   |
help: make this function unsafe: `unsafe`
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:130:1
   |
LL | fn main() {}
   | ^

error: lint `clippy::safe_fn` has been renamed to `clippy::safe_code`
   |
   = help: use the new name `clippy::safe_code`
   = note: requested on the command line with `-D clippy::safe_fn`
   = note: duplicate diagnostic emitted due to `-Z deduplicate-diagnostics=no`

error: missing `#![no_std]`
   |
   = help: make this crate `#![no_std]`
   = note: requested on the command line with `-D clippy::missing-no-std`

error: all if blocks contain the same code at both the start and the end
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:17:5
   |
LL | /     if x == 7 {
LL | |
LL | |
LL | |         let t = 7;
LL | |         let _overlap_start = t * 2;
LL | |         let _overlap_end = 2 * t;
   | |_________________________________^
   |
note: this code is shared at the end
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:31:5
   |
LL | /         let _u = 9;
LL | |     }
   | |_____^
note: the lint level is defined here
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:1:9
   |
LL | #![deny(clippy::branches_sharing_code, clippy::if_same_then_else)]
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
help: consider moving these statements before the if
   |
LL ~     let t = 7;
LL +     let _overlap_start = t * 2;
LL +     let _overlap_end = 2 * t;
LL +     if x == 7 {
   |
help: consider moving these statements after the if
   |
LL ~     }
LL +     let _u = 9;
   |

error: all if blocks contain the same code at both the start and the end
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:35:5
   |
LL | /     if x == 99 {
LL | |
LL | |
LL | |         let r = 7;
LL | |         let _overlap_start = r;
LL | |         let _overlap_middle = r * r;
   | |____________________________________^
   |
note: this code is shared at the end
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:48:5
   |
LL | /         let _overlap_end = r * r * r;
LL | |         let z = "end";
LL | |     }
   | |_____^
   = warning: some moved values might need to be renamed to avoid wrong references
help: consider moving these statements before the if
   |
LL ~     let r = 7;
LL +     let _overlap_start = r;
LL +     let _overlap_middle = r * r;
LL +     if x == 99 {
   |
help: consider moving these statements after the if
   |
LL ~     }
LL +     let _overlap_end = r * r * r;
LL +     let z = "end";
   |

error: all if blocks contain the same code at both the start and the end
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:66:5
   |
LL | /     if (x > 7 && y < 13) || (x + y) % 2 == 1 {
LL | |
LL | |
LL | |         let a = 0xcafe;
LL | |         let b = 0xffff00ff;
LL | |         let e_id = gen_id(a, b);
   | |________________________________^
   |
note: this code is shared at the end
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:88:5
   |
LL | /         let pack = DataPack {
LL | |             id: e_id,
LL | |             name: "Player 1".to_string(),
LL | |             some_data: vec![0x12, 0x34, 0x56, 0x78, 0x90],
LL | |         };
LL | |         process_data(pack);
LL | |     }
   | |_____^
   = warning: some moved values might need to be renamed to avoid wrong references
help: consider moving these statements before the if
   |
LL ~     let a = 0xcafe;
LL +     let b = 0xffff00ff;
LL +     let e_id = gen_id(a, b);
LL +     if (x > 7 && y < 13) || (x + y) % 2 == 1 {
   |
help: consider moving these statements after the if
   |
LL ~     }
LL +     let pack = DataPack {
LL +         id: e_id,
LL +         name: "Player 1".to_string(),
LL +         some_data: vec![0x12, 0x34, 0x56, 0x78, 0x90],
LL +     };
LL +     process_data(pack);
   |

error: all if blocks contain the same code at both the start and the end
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:101:5
   |
LL | /     let _ = if x == 7 {
...  |
LL | |         let _ = 19;
   | |___________________^
   |
note: this code is shared at the end
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:112:5
   |
LL | /         x << 2
LL | |     };
   | |_____^
   = note: the end suggestion probably needs some adjustments to use the expression result correctly
help: consider moving these statements before the if
   |
LL ~     let _ = 19;
LL +     let _ = if x == 7 {
   |
help: consider moving these statements after the if
   |
LL ~     }
LL ~     x << 2;
   |

error: all if blocks contain the same code at both the start and the end
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:115:5
   |
LL | /     if x == 9 {
...  |
LL | |         let _ = 17;
   | |___________________^
   |
note: this code is shared at the end
  --> tests/ui/branches_sharing_code/shared_at_top_and_bottom.rs:126:5
   |
LL | /         x * 4
LL | |     }
   | |_____^
   = note: the end suggestion probably needs some adjustments to use the expression result correctly
help: consider moving these statements before the if
   |
LL ~     let _ = 17;
LL +     if x == 9 {
   |
help: consider moving these statements after the if
   |
LL ~     }
LL +     x * 4
   |

error: aborting due to 62 previous errors

